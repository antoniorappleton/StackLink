<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>StackLink</title>
    <meta name="theme-color" content="#0ea5e9" />
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="styles.css?v=9">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tailwind design tokens -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: [
                "Inter",
                "ui-sans-serif",
                "system-ui",
                "Segoe UI",
                "Roboto",
                "Helvetica Neue",
                "Arial",
              ],
            },
            colors: {
              brand: {
                50: "#eaf6ff",
                100: "#d5edff",
                200: "#a9dbff",
                300: "#7bc7ff",
                400: "#4eb3ff",
                500: "#1ea0ff",
                600: "#0b84e5",
                700: "#0868b3",
                800: "#064b80",
                900: "#042d4d",
              },
            },
            boxShadow: {
              elev: "0 10px 30px rgba(2, 6, 23, .06)",
              focus: "0 0 0 4px rgba(14, 165, 233, .15)",
            },
            borderRadius: { "2xl": "1rem", "3xl": "1.25rem" },
          },
        },
      };
    </script>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles.css?v=7" />
  </head>
  <body class="bg-white text-slate-900 transition-colors duration-200">
    <div id="app" class="min-h-dvh">
      <header class="sticky top-0 z-10 backdrop-blur bg-white/80 border-b">
        <div class="max-w-6xl mx-auto px-4 py-4 flex items-center gap-3">
          <div class="flex items-center gap-3">
            <div
              class="h-10 w-10 rounded-2xl bg-brand-600/90 flex items-center justify-center shadow-elev"
            >
              <span class="text-white font-bold">üîñ</span>
            </div>
            <div>
              <div class="text-xl font-extrabold tracking-tight">StackLink</div>
              <div class="text-slate-500 -mt-1 text-sm">
                Organiza os teus links com estilo
              </div>
            </div>
          </div>

          <div class="ml-auto flex items-center gap-2">
            <button id="btn-install" class="hidden btn btn-ghost">
              Instalar
            </button>
            <button id="btn-theme" class="btn btn-ghost">üåû/üåö</button>
            <span id="user-chip" class="hidden text-sm px-2"></span>
            <button id="btn-login" class="btn btn-ghost">Entrar</button>
            <button id="btn-logout" class="hidden btn btn-ghost">Sair</button>
            <button id="btn-add" class="btn btn-primary shadow-elev">
              + Adicionar Link
            </button>
            <button id="btn-new-category" class="btn btn-ghost">
              + Nova Categoria
            </button>
          </div>
        </div>
      </header>

      <!-- Toolbar -->
      <section class="max-w-6xl mx-auto px-4 pt-6">
        <div class="flex flex-wrap items-center gap-3">
          <div class="input-icon flex-1 min-w-[240px]">
            <input
              id="search"
              placeholder="Pesquisar links..."
              class="w-full px-3 py-2 border rounded-xl"
            />
          </div>
          <select id="filter-sort" class="px-3 py-2 border rounded-xl">
            <option value="dateDesc">Mais recentes</option>
            <option value="nameAsc">Nome (A‚ÜíZ)</option>
            <option value="popDesc">Popularidade</option>
          </select>
          <label class="flex items-center gap-2">
            <input id="view-toggle" type="checkbox" class="scale-110" />
            <span>Vista compacta</span>
          </label>
        </div>
      </section>

      <!-- Pills -->
      <section class="max-w-6xl mx-auto px-4 pt-4">
        <div id="cat-pills" class="flex flex-wrap gap-2"></div>
      </section>

      <!-- Grid -->
      <main class="max-w-6xl mx-auto px-4 pb-20">
        <div
          id="grid"
          class="grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"
        ></div>
      </main>

      <!-- Footer -->
      <nav
        class="fixed bottom-0 left-0 right-0 border-t bg-white/90 backdrop-blur"
      >
        <div class="max-w-6xl mx-auto px-4 py-2 grid grid-cols-4 text-center">
          <button id="ft-home" class="app-footer-btn">
            <span id="ico-home"></span>
            <div class="label">Dashboard</div>
          </button>
          <button id="ft-cats" class="app-footer-btn">
            <span id="ico-cats"></span>
            <div class="label">Categorias</div>
          </button>
          <button id="ft-fav" class="app-footer-btn">
            <span id="ico-fav"></span>
            <div class="label">Favoritos</div>
          </button>
          <button id="ft-settings" class="app-footer-btn">
            <span id="ico-settings"></span>
            <div class="label">Config.</div>
          </button>
        </div>
      </nav>
    </div>

    <!-- Modal de Autentica√ß√£o -->
    <div
      id="auth-modal"
      class="fixed inset-0 hidden items-center justify-center bg-slate-900/40 backdrop-blur-sm"
    >
      <div class="bg-white rounded-2xl w-full max-w-md shadow-xl">
        <!-- Header / Tabs -->
        <div class="px-6 pt-5 pb-3 border-b">
          <div class="flex items-center justify-between">
            <h3 id="auth-title" class="text-lg font-semibold">Entrar</h3>
            <button
              id="auth-close"
              class="hidden p-2 rounded-lg hover:bg-slate-100"
              title="Fechar"
            >
              ‚úï
            </button>
          </div>
          <p id="auth-sub" class="text-sm text-slate-500 mt-1">
            Usa o teu e-mail e palavra-passe.
          </p>
          <div class="mt-4 grid grid-cols-2 gap-2">
            <button
              id="tab-login"
              class="tab-btn px-3 py-2 rounded-xl border bg-slate-50 font-medium"
            >
              Entrar
            </button>
            <button id="tab-signup" class="tab-btn px-3 py-2 rounded-xl border">
              Criar conta
            </button>
          </div>
        </div>

        <!-- Corpo -->
        <form id="auth-form" class="px-6 py-5 space-y-3">
          <div>
            <label class="block text-sm mb-1">E-mail</label>
            <input
              id="auth-email"
              type="email"
              required
              class="w-full px-3 py-2 border rounded-xl"
              placeholder="nome@exemplo.com"
            />
          </div>
          <div>
            <label class="block text-sm mb-1">Palavra-passe</label>
            <input
              id="auth-pass"
              type="password"
              required
              class="w-full px-3 py-2 border rounded-xl"
              placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            />
          </div>

          <div id="auth-extra" class="hidden">
            <label class="block text-sm mb-1">Nome (opcional)</label>
            <input
              id="auth-name"
              type="text"
              class="w-full px-3 py-2 border rounded-xl"
              placeholder="Como devemos chamar-te?"
            />
          </div>

          <button
            id="auth-submit"
            type="submit"
            class="w-full py-2.5 rounded-xl bg-sky-600 text-white hover:bg-sky-700 disabled:opacity-60"
          >
            Continuar
          </button>

          <div class="flex items-center justify-between">
            <button
              id="auth-forgot"
              type="button"
              class="text-sm text-sky-700 hover:underline"
            >
              Esqueci a senha
            </button>
            <span id="auth-msg" class="text-sm text-rose-600"></span>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Nova Categoria -->
    <div
      id="cat-modal"
      class="fixed inset-0 hidden items-center justify-center bg-slate-900/40 backdrop-blur-sm"
    >
      <div class="bg-white rounded-2xl w-full max-w-md p-5 shadow-xl">
        <h3 class="text-lg font-semibold mb-3">Nova Categoria</h3>
        <form id="cat-form" class="space-y-3">
          <div>
            <label class="block text-sm mb-1">Nome</label>
            <input
              id="cat-name"
              required
              class="w-full px-3 py-2 border rounded-xl"
              placeholder="Ex.: Tecnologia"
            />
          </div>
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-sm mb-1">Cor</label>
              <input
                id="cat-color"
                type="color"
                value="#2563eb"
                class="w-full h-10 border rounded-xl"
              />
            </div>
            <div>
              <label class="block text-sm mb-1">√çcone</label>
              <select id="cat-icon" class="w-full px-3 py-2 border rounded-xl">
                <option value="code">Code</option>
                <option value="news">News</option>
                <option value="book">Book</option>
                <option value="tv">TV</option>
                <option value="chart">Chart</option>
                <option value="folder">Folder</option>
                <option value="star">Star</option>
              </select>
            </div>
          </div>
          <div class="flex justify-end gap-2 pt-2">
            <button
              type="button"
              id="cat-cancel"
              class="px-3 py-2 rounded-xl border"
            >
              Cancelar
            </button>
            <button class="px-3 py-2 rounded-xl bg-sky-600 text-white">
              Guardar
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal: Adicionar Link -->
    <div
      id="modal-add"
      class="fixed inset-0 hidden items-center justify-center bg-black/40"
    >
      <div class="bg-white rounded-2xl w-full max-w-lg p-5">
        <h3 class="text-lg font-semibold mb-3">Adicionar Link</h3>
        <form id="form-add" class="space-y-3">
          <input
            type="url"
            id="add-url"
            required
            placeholder="https://..."
            class="w-full px-3 py-2 border rounded-xl focus:ring-2 focus:ring-sky-200 focus:outline-none"
          />
          <input
            type="text"
            id="add-title"
            placeholder="T√≠tulo (opcional)"
            class="w-full px-3 py-2 border rounded-xl focus:ring-2 focus:ring-sky-200 focus:outline-none"
          />
          <textarea
            id="add-desc"
            placeholder="Descri√ß√£o (opcional)"
            class="w-full px-3 py-2 border rounded-xl"
          ></textarea>
          <div class="flex gap-2">
            <select
              id="add-category"
              class="flex-1 px-3 py-2 border rounded-xl"
            ></select>
            <label class="flex items-center gap-2 px-3 py-2 border rounded-xl">
              <input type="checkbox" id="add-fav" /> Favorito
            </label>
          </div>
          <div class="flex justify-end gap-2 pt-2">
            <button
              type="button"
              id="btn-cancel"
              class="px-3 py-2 rounded-xl border"
            >
              Cancelar
            </button>
            <button
              type="submit"
              class="px-3 py-2 rounded-xl bg-sky-600 text-white"
            >
              Guardar
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Toast -->
    <div
      id="toast"
      class="fixed bottom-4 left-1/2 -translate-x-1/2 hidden px-4 py-2 rounded-xl bg-red-600 text-white shadow"><span id="toast-text"></span>
    </div>
    <script type="module" src="js/main.js?v=9"></script>
  </body>
</html>
