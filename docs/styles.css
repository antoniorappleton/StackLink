/* =========================================================
   TOKENS / CORE
   ========================================================= */
:root{
  /* Cores base (escuro elegante) */
  --bg-page:   #0a1221; /* fundo geral */
  --bg-soft:   #0b2b62; /* brilho azulado */
  --panel:     #0f172a; /* painéis */
  --line:      #1f2937;

  --ink-1: #e2e8f0;
  --ink-2: #cbd5e1;
  --ink-3: #94a3b8;
  --ink-4: #64748b;
  --ink-6: #334155;

  --brand:     #2c80ff;
  --brand-700: #0f47aa;
  --brand-900: #0b2b62;

  /* Layout */
  --header-h: 64px;
  --footer-h: 56px;

  /* “Paper mode” (miolo claro estilo jornal) */
  --content-bg: #f3f4f6;
}

html, body, #app { min-height: 100%; }

html,body{
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  background:
    radial-gradient(1200px 700px at 20% -10%, rgba(246,248,251,.12), transparent 60%),
    radial-gradient(900px 600px at 100% 0%, rgba(190,193,198,.35), transparent 55%),
    var(--bg-page);
  color: var(--ink-1);
}

a{ color:var(--ink-1); }
a:hover{ color:#fff; }

/* =========================================================
   HEADER / BRAND
   ========================================================= */
.topbar{
  position: sticky; top: 0; z-index: 50;
  padding: 12px 0;
  backdrop-filter: blur(8px);
  background: linear-gradient(180deg, rgba(8,28,63,.88), rgba(8,28,63,.72));
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.topbar .container{ max-width:1100px; margin:0 auto; padding-inline:clamp(16px,5vw,40px); }

.brand{ display:flex; align-items:center; gap:12px; margin-left:clamp(8px,4vw,24px); }
.brand .logo{
  display:block; width:55px; height:55px; border-radius:8px; object-fit:cover;
  filter:brightness(0) invert(1); /* logo branco sobre cabeçalho escuro */
}
.brand-name{ color:#fff; font-weight:700; }

/* =========================================================
   LAYOUT ENTRE HEADER E FOOTER
   ========================================================= */
.main{
  background: var(--content-bg); /* modo “paper” claro */
  min-height: calc(100dvh - var(--header-h) - var(--footer-h));
  padding-top: 12px; padding-bottom: 72px; /* espaço para footer */
}
.content-area{
  width:100%; max-width:1400px; margin-inline:auto;
  padding:16px clamp(12px,3vw,24px);
}

/* =========================================================
   BOTÕES
   ========================================================= */
.btn{ --b:12px; --pad:.55rem .9rem;
  display:inline-flex; align-items:center; gap:.5rem;
  padding:var(--pad); border-radius:var(--b);
  font-weight:600; border:1px solid transparent; transition:.15s ease;
  background: #0f172a; color:var(--ink-1);
}
.btn:disabled{ opacity:.6; pointer-events:none; }

.btn-primary{
  background:linear-gradient(180deg,#2d6dfd,#1c52d6);
  color:#fff; box-shadow:0 8px 20px rgba(45,109,253,.28);
}
.btn-primary:hover{ filter:brightness(1.05); }

.btn-ghost{
  background:rgba(255,255,255,.06);
  border-color:rgba(255,255,255,.14);
  color:#e5edff;
}
.btn-ghost:hover{ background:rgba(255,255,255,.12); }

.btn-danger{ background:#ef4444; color:#fff; box-shadow:0 8px 20px rgba(239,68,68,.25); }

.btn-sm{ padding:.45rem .7rem; font-size:.9rem; border-radius:10px; }

.icon-btn{
  width:36px; height:36px; display:inline-grid; place-items:center;
  border-radius:10px; background:rgba(255,255,255,.08);
  color:#e5edff; border:1px solid rgba(255,255,255,.12);
}
.icon-btn:hover{ background:rgba(255,255,255,.14); }

/* =========================================================
   FORM / INPUTS / SELECTS / SEARCH
   ========================================================= */
input, select, textarea{ font:inherit; }
button, .btn, .icon-btn{ min-height:44px; } /* tap-target mobile */

input[type="text"], input[type="url"], input[type="email"], input[type="password"], select, textarea{
  background:#fff; color:#0f172a;
  border:1px solid #e5e7eb; border-radius:12px; padding:.8rem 1rem;
}
input::placeholder{ color:#94a3b8; }
input[type="checkbox"]{ accent-color:var(--brand); }

.select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background:#fff; color:#0f172a;
  border:1px solid #e5e7eb; border-radius:12px;
  padding:.55rem 2rem .55rem .7rem; position:relative;
}
.select:focus{ outline:0; box-shadow:0 0 0 3px rgba(44,128,255,.25); }
.select-wrap{ position:relative; }
.select-wrap:after{
  content:"▾"; position:absolute; right:.6rem; top:50%; transform:translateY(-48%);
  color:#64748b; pointer-events:none; font-size:.9rem;
}

.search-wrap{ position:relative; }
.search-wrap svg{
  position:absolute; left:12px; top:50%; transform:translateY(-50%);
  color:#64748b;
}
.search-wrap input{
  width:100%; height:44px; padding-left:40px;
}

/* =========================================================
   PILLS (FILTROS / CATEGORIAS)
   ========================================================= */
.pills-row{
  display:flex; gap:8px; overflow-x:auto; padding-bottom:6px; scrollbar-width:thin;
}
.pills-row::-webkit-scrollbar{ height:6px; }
.pills-row::-webkit-scrollbar-thumb{ background:#e5e7eb; border-radius:999px; }

.pill{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.5rem .85rem; border-radius:999px;
  background:#fff; color:#0f172a;
  border:1px solid #e5e7eb; transition:.15s;
}
.pill .count{
  font-size:.72rem; padding:.12rem .48rem; border-radius:999px;
  background:#e5e7eb; color:#334155;
}
.pill.active{ background:#f1f5f9; border-color:#cbd5e1; }

/* =========================================================
   CARDS DE LINKS (BRANCO CLEAN)
   ========================================================= */
.grid-links{
  display:grid; gap:16px;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}
.grid-links article{
  background:#ffffff; color:#0f172a;
  border:1px solid #e5e7eb; border-radius:16px;
  box-shadow: 0 2px 6px rgba(2,6,23,.05), 0 10px 24px rgba(2,6,23,.06);
  overflow:hidden; position:relative;
}
.card-cover{
  aspect-ratio: 16/9;
  background:#0b1220; background-size:cover; background-position:center;
}
.card-body{ padding:12px 14px 10px; }
.card-title{ font-weight:600; line-height:1.25; margin:6px 0 2px; color:#0b1220; }
.card-desc{ color:#475569; font-size:.95rem; margin-bottom:8px; }
.card-meta{ display:flex; align-items:center; gap:8px; color:#64748b; font-size:.87rem; }

.card-actions{
  position:absolute; top:8px; right:8px; display:flex; gap:6px;
}
.card-actions button{
  background:#ffffffcc; color:#1f2937; border:1px solid #e5e7eb;
  width:34px; height:34px; border-radius:10px;
}
.card-actions button:hover{ background:#fff; }

.tag{ background:#f8fafc; border:1px solid #e5e7eb; color:#334155; }

/* =========================================================
   MODAIS (AUTH / ADD / CATS)
   ========================================================= */
.modal-backdrop{
  position:fixed; inset:0; z-index:50;
  background: rgba(6,11,20,.55);
  backdrop-filter: blur(10px) saturate(120%);
}
.modal-panel{
  background:#fff; color:#0f172a;
  border:1px solid #e5e7eb; border-radius:16px;
  box-shadow: 0 30px 80px rgba(2,6,23,.20);
}

/* =========================================================
   CATEGORIAS – LISTA
   ========================================================= */
.cat-row{
  display:grid; grid-template-columns: 1fr auto; gap:10px; align-items:center;
  background:#fff; border:1px solid #e5e7eb; border-radius:14px; padding:10px 12px;
  box-shadow: 0 6px 24px rgba(2,6,23,.06);
}
.cat-row .meta{ display:flex; align-items:center; gap:12px; }
.cat-dot{ width:12px; height:12px; border-radius:50%; border:1px solid #e5e7eb; }
.cat-row strong{ color:#0f172a; font-weight:600; }
.cat-row .count{ color:#475569; font-weight:500; }
.cat-actions{ display:flex; gap:6px; }

/* =========================================================
   FOOTER (NAV) + ÍCONES
   ========================================================= */
.footer{
  position:fixed; left:0; right:0; bottom:0; z-index:30;
  background:#102748; color:#cfe0ff;
  backdrop-filter: blur(8px);
  border-top:1px solid rgba(255,255,255,.06);
  padding-bottom:max(8px, env(safe-area-inset-bottom));
}
.footer .app-footer-btn{
  display:flex; flex-direction:column; align-items:center; gap:6px;
  padding:.6rem 0; color:#cfe0ff; opacity:.9;
}
.footer .label{ font-size:.82rem; }
.footer .app-footer-btn .fi{
  width:22px; height:22px; display:inline-block; line-height:0;
  opacity:.8; transition:opacity .15s ease, transform .15s ease;
}
.footer .app-footer-btn.active{ color:#fff; opacity:1; }
.footer .app-footer-btn.active .fi{ opacity:1; transform:translateY(-1px); }

/* =========================================================
   UTILITÁRIOS
   ========================================================= */
.subtle{ color:var(--ink-3); }
.h6{ font-weight:600; color:#0b1220; }  /* títulos em cards/áreas claras */
svg{ color:currentColor; opacity:.95; }  /* ícones monocromáticos */

/* Toolbar (header sem pesquisa) layout responsivo */
.toolbar-no-search{
  display:grid; grid-template-columns:auto auto auto auto auto; gap:12px; align-items:center;
}
@media (max-width:1024px){
  .toolbar-no-search{
    grid-template-columns:auto 1fr auto;
    grid-template-areas:
      "brand user user"
      "sort  actions view";
    row-gap:8px;
  }
  .brand{ grid-area:brand; }
  .select-wrap{ grid-area:sort; }
  .actions{ grid-area:actions; justify-self:start; }
  .view-toggle-wrap{ grid-area:view; justify-self:end; }
  #user-chip{ grid-area:user; justify-self:end; }
}

/* Responsividade leve */
@media (max-width:640px){
  .brand .logo{ width:26px; height:26px; }
  .brand-name{ font-size:16px; }
  .content-area{ padding:12px; }
}
/* ===================== */
/* HEADER — AJUSTES MOBILE */
/* ===================== */
@media (max-width: 640px){

  :root{
    --header-h: 96px;               /* altura efetiva no mobile */
  }

  .topbar{
    padding-top: max(10px, env(safe-area-inset-top));
    padding-bottom: 10px;
    background: linear-gradient(180deg,#0f264d 0%, #0b1f3e 100%);
    box-shadow: 0 1px 0 rgba(255,255,255,.06);
  }

  /* grid claro: 1ª linha = brand + user | 2ª linha = sort + actions + view */
  .toolbar-no-search{
    display:grid;
    grid-template-columns: auto 1fr auto;
    grid-template-areas:
      "brand . user"
      "sort  actions view";
    row-gap: 10px; column-gap: 10px;
    align-items:center;
  }
  .brand{ grid-area: brand; margin-left: 0; }
  #user-chip{ grid-area: user; justify-self: end; }
  .select-wrap{ grid-area: sort; }
  .actions{ grid-area: actions; justify-self: start; }
  .view-toggle-wrap{ grid-area: view; justify-self: end; }

  /* legibilidade dos controlos no header */
  .select{
    background: rgba(255,255,255,.08);
    color:#eaf0ff;
    border-color: rgba(255,255,255,.18);
    height: 40px;
  }
  .select-wrap:after{ color:#caddff; }

  .btn{ height:40px; padding:.5rem .8rem; }
  .btn-ghost{
    background: rgba(255,255,255,.10);
    border-color: rgba(255,255,255,.16);
    color:#eaf0ff;
  }
  .btn-primary{ box-shadow: 0 8px 18px rgba(45,109,253,.32); }

  /* chip do utilizador mais nítido */
  .user-chip{
    background: rgba(255,255,255,.10);
    border:1px solid rgba(255,255,255,.18);
    color:#fff;
  }

  /* logo + nome sempre visíveis */
  .brand .logo{ width:26px; height:26px; }
  .brand-name{ font-size:16px; color:#fff; }

  /* garante que o conteúdo não “fica por baixo” do header */
  .main{ padding-top: 12px; min-height: calc(100dvh - var(--header-h) - var(--footer-h)); }
}
/* estado compacto */
.grid-links.compact article{
  display:grid;
  grid-template-columns: 56px 1fr auto;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:12px;
}
.grid-links.compact .card-cover{ display:none; }
.grid-links.compact .card-body{ padding:0; }
.grid-links.compact .card-title{ font-size:.95rem; margin:0; }
.grid-links.compact .card-desc{ display:none; }
.grid-links.compact .card-meta{ font-size:.82rem; }
.grid-links.compact .card-actions{
  position:static; display:flex; gap:6px;
}
